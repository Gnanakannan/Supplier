var loadGoogleMaps=function($){"use strict";var now=$.now(),promise;return function(version,apiKey,language,sensor){if(promise){return promise}var deferred=$.Deferred(),resolve=function(){deferred.resolve(window.google&&window.google.maps?window.google.maps:false)},callbackName="loadGoogleMaps_"+now++,params=$.extend({sensor:sensor||"false"},apiKey?{key:apiKey}:{},language?{language:language}:{});if(window.google&&window.google.maps){resolve()}else if(window.google&&window.google.load){window.google.load("maps",version||3,{other_params:$.param(params),callback:resolve})}else{params=$.extend(params,{callback:callbackName});window[callbackName]=function(){resolve();setTimeout(function(){try{delete window[callbackName]}catch(e){}},20)};$.ajax({dataType:"script",data:params,url:"//maps.googleapis.com/maps/api/js"})}promise=deferred.promise();return promise}}(jQuery);